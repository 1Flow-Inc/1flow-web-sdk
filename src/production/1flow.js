const __keys={u:"user",s:"session",ano:"anonymous_user",an:"anonymous_user_id",sid:"system_id",s_id:"session_id",m:"mode",l:"log_user",au:"analytic_user_id",did:"device_id",uid:"unique_id",cs:"cs_url",lu:"lu_url",ie:"ev_url",time:{m:"minutes",h:"hours",d:"days"},sr:{s:"survey",sc:"current_survey",ls:"last_submitted",api:"add_survey",g_api:"su_url"},elements:{__root:"one_flow_survey_preview",__in_root:{id:"oneflow_main_box",class:"one-flow-rating-box"},__type:{},__star_path:"M14.5514 2.11622C15.0362 0.627928 17.1417 0.627928 17.6249 2.11622L20.0795 9.66916C20.1852 9.99314 20.3905 10.2754 20.6662 10.4757C20.942 10.6759 21.2739 10.7839 21.6147 10.7842H29.5571C31.1229 10.7842 31.7725 12.7879 30.5073 13.709L24.0822 18.3759C23.8062 18.5765 23.6008 18.8594 23.4955 19.1839C23.3901 19.5085 23.3902 19.858 23.4956 20.1825L25.9487 27.7355C26.4334 29.2254 24.7286 30.4632 23.4633 29.5421L17.0383 24.8752C16.7622 24.6745 16.4295 24.5664 16.0881 24.5664C15.7467 24.5664 15.4141 24.6745 15.138 24.8752L8.71294 29.5421C7.44765 30.4632 5.74283 29.2238 6.22761 27.7355L8.68062 20.1825C8.78611 19.858 8.78617 19.5085 8.6808 19.1839C8.57542 18.8594 8.37003 18.5765 8.09403 18.3759L1.66902 13.709C0.402114 12.7879 1.05496 10.7842 2.6192 10.7842H10.56C10.901 10.7843 11.2333 10.6764 11.5094 10.4762C11.7854 10.2759 11.991 9.99341 12.0967 9.66916L14.5514 2.11622V2.11622Z"},_e:{c:"create_event",l:"log_user",s:"create_session",e:"log_event",tr:"oneflow_event_trigger",d:"default_events",cu:"create_user"},_r:{p:"POST",g:"GET"},er:"error",br:["chrome","firefox","safari","opera","edge"],os:["windows","mac","ios"],msg:{__e:{_ar:"This is not valid event data.",_rn:"Event name is required"}},answers:"answer",default_events:{events:["first_visit","page_view","button_click","session_start","survey_impression"],__l_events:["first_visit","page_view","session_start"],__es:"complete_events"},temp:"one_flow_temp_data",_urlImg_CSS:"https://1flow.app/js/",_js_css_root:"OneFlow-stylesheet"},oneFlow_sdk_const={__lg:[__keys.u,__keys.s],__p_log:[__keys.an,__keys.sid,__keys.s_id,__keys.m,__keys.l],_a_user:[__keys.au,__keys.sid,__keys.did,__keys.uid],cs:__keys.cs,lu:__keys.lu,ie:__keys.ie,u:__keys.u,s:__keys.s,m:__keys.m,ano:__keys.ano,__events:__keys._e,__request:__keys._r,er:__keys.er,br:__keys.br,os:__keys.os,msg:__keys.msg,__survey:__keys.sr,__element:__keys.elements,__answer:__keys.answers,__time:__keys.time,__d_events:__keys.default_events,__temp:__keys.temp,_urlImg_CSS:__keys._urlImg_CSS,_js_css_root:__keys._js_css_root};exports=oneFlow_sdk_const;class OneFlowEvent{events=[];add=(e,t,s)=>{let _=new CustomEvent(e,{detail:t});return this.validFunction(s)&&this.addEventListener(e,s),this.events.push(_),_};emit=(e,t)=>{document.dispatchEvent(this.currentEvent(e)),t&&this.removeEvent(e)};currentEvent=e=>this.events.find((t=>t.type===e));removeCurrentEvent=e=>{let t=this.events.indexOf(e);this.events.splice(t,1)};addEventListener=(e,t)=>{document.addEventListener(e,t)};removeEvent=e=>{removeEventListener(this.currentEvent(e),this.handleFileEmail,!1),this.removeCurrentEvent(this.currentEvent(e))};validEvent=e=>!!this.events.find((t=>t.type===e));validFunction=e=>e instanceof Function}exports=OneFlowEvent;class E{constructor(e){this.__cn=e}d=e=>""!=e?atob(e):this.ds({});e=e=>btoa(e);dp=e=>JSON.parse(e);ds=e=>JSON.stringify(e);static d=e=>atob(e)}class C extends E{__a_k_valid="1FLOW API key is required";__key=null;__cn;constructor(e){super(e),this.stcn(e)}v=e=>{this.iv(e)};sk=e=>{this.__key=e};gk=()=>this.__key;iv=e=>!(!e&&""==e)||(this.l("e",this.__a_k_valid),!1);ar=e=>Array.isArray(e);emptyObj=e=>!!Object.keys(e).length;ap=e=>e.join("&");su=e=>e;stcn=e=>{e&&e.result?this.__cn=this.e(this.ds(e.result.data)):e&&(this.__cn=this.e(this.ds(e)))};gtcn=()=>this.dp(this.d(this.__cn));er=e=>{this.l("e",e)};c=e=>e instanceof Function;l=(e,t)=>{switch(e){case"e":case"error":console.error(`ONEFLOW SDK ERROR: ${t}`);break;case"l":case"log":default:console.log(`ONEFLOW SDK: ${t}`);break;case"w":case"warn":console.warn(`ONEFLOW SDK Warn: ${t}`)}};ce=(e,t)=>{if(null==e)return Object.keys(t).forEach((e=>{document.documentElement.setAttribute(e,t[e])})),null;let s=document.createElement(e);return Object.keys(t).forEach((e=>{"titleContent"==e?s.textContent=t[e]:s.setAttribute(e,t[e])})),s};gE=e=>{if(null==document.getElementById(e)&&null==document.getElementById(___ok.__element.__root)&&e==___ok.__element.__in_root.id){let e=this.ce("div",{id:___ok.__element.__root});document.body.appendChild(e);let t=this.ce("div",___ok.__element.__in_root),s=this.ce("div",{id:"one_flow_over_lay"}),_=this.gE(___ok.__element.__root);return _.appendChild(s),_.appendChild(t),t}if(null==document.getElementById(e)&&e==___ok.__element.__in_root.id){let e=this.ce("div",___ok.__element.__in_root);return this.gE(___ok.__element.__root).appendChild(e),e}return document.getElementById(e)};gEC=e=>document.getElementsByClassName(e);sP=(e,t)=>document.documentElement.style.setProperty(e,t);rL=(e,t)=>removeEventListener(e,t);aL=(e,t,s)=>e.addEventListener(t,s);sT=(e,t)=>setTimeout(e,t);gQS=e=>document.querySelector(e);gEN=e=>document.getElementsByName(e);gETN=e=>document.getElementsByTagName(e);static gtcn=()=>this.__cn;getUrl=(e,t="")=>{let s=this.gtcn().au[e];return""!==t&&(s=`${s}?mode=${t}`),s};getHelpers=()=>new OneFlowHelpers;getSurveyHelpers=()=>new Survey;getCurrentHost=e=>{let t=window.location;return"host"==e?t.origin:"whole_url"==e?t.href:"page_only"==e?t.pathname:void 0};appendOneFlowStyle=()=>{if(null==this.gE(___ok._js_css_root)){const e={href:`${___ok._urlImg_CSS}style.css`,id:___ok._js_css_root,rel:"stylesheet"};let t=this.ce("link",e);document.head.appendChild(t)}}}class OneflowSDK extends C{sdk_details={app_version:"1.1",app_build_number:"0987",library_version:"1",api_version:"2021-06-15"};constructor(){super(),this.r=new F("")}set=e=>{this.sdk_details=e};get=()=>this.sdk_details}exports=E,exports=C,exports=OneflowSDK;class Session extends C{sdk_version={};constructor(e){super(e),this.sdk_version=this.gtcn().sdk,this.mode=this.gtcn().m,this.u=this.getUrl(___ok.cs),this.__helpers=this.getHelpers()}rd=()=>{const e=this.getUser();return e.device=this.getDevices(),e.connectivity=this.getConnectivity(),e.app_version=this.sdk_version.app_version,e.app_build_number=this.sdk_version.app_build_number,e.library_version=this.sdk_version.library_version,e.api_version=this.sdk_version.api_version,e.mode=this.mode,e.location_check=!0,e};add=e=>{const t=new F(e),s=this.rd();t.req(this.u,___ok.__request.p,(e=>{this.save(e)}),(e=>{this.l(___ok.er,e)}),this.ds(s))};getDevices=()=>({os:this.__helpers.__os(),carrier:null,manufacturer:this.__helpers.__browser(),model:this.__helpers.__browser(),os_ver:this.__helpers.__browser_version(),screen_width:this.__helpers.__screen_details("width"),screen_height:this.__helpers.__screen_details("height"),unique_id:this.uid,device_id:this.did});getUser=()=>{let e=this.__helpers.__storage_data(___ok.u);return this.uid=e.uid,this.did=e.did,{analytic_user_id:e.au,system_id:e.sid}};getConnectivity=()=>({radio:"wireless"});save=e=>{const t={s_id:__result(this.dp(e))._id};this.__helpers.__store_data(___ok.s,t),this.__helpers.__eventTrigger(___ok.__events.l,!0),this.__helpers.__eventTrigger(___ok.__events.e,!0),this.__helpers.__eventTrigger(___ok.__d_events.events[3],!0)};get=()=>this.__helpers.__storage_data(___ok.s);__valid=()=>this.emptyObj(this.get())}exports=Session;class S extends C{constructor(){super(),this.l=localStorage}s(e,t){this.l.setItem(e,this.ds(t))}g(e){return this.dp(this.l.getItem(e))}r(e){this.l.removeItem(__k)}}class OneFlowHelpers extends S{key=window.__1flow_key;constructor(){super()}merge_data=(e,t)=>{let s=this.__valid_data(),_={};return s?(s=this.dp(this.d(s)),_={...s},_[e]=t):_[e]=t,_};__storage_data=e=>{let t=this.g(this.e(this.key));if(!t||empty(e))return{};if(t=this.dp(this.d(t)),"string"==_type(e))return t[e]?t[e]:{};if("object"==_type(e)&&e.length){let s={};return e.map((e=>{s={...s,...t[e]}})),s||{}}return{}};__removeData=e=>{let t=this.g(this.e(this.key));if(!t||empty(e))return{};t=this.dp(this.d(t)),"string"==_type(e)&&t[e]&&delete t[e],this.s(this.e(this.key),this.e(this.ds(t)))};__store_data=(e,t)=>{if(empty(e)||empty(t))return!1;let s=this.merge_data(e,t);this.s(this.e(this.key),this.e(this.ds(s)))};__remove_data=e=>{let t=this.__valid_data();if(!t||empty(e))return{};t=this.dp(this.d(t)),delete t[e],this.s(this.e(this.key),this.e(this.ds(t)))};__valid_data=()=>this.g(this.e(this.key));__eventTrigger=(e,t=!1)=>{__one_flow_events.validEvent(e)&&__one_flow_events.emit(e,t)};__valid=e=>this.emptyObj(this.__storage_data(e));__os=()=>-1!=window.navigator.userAgent.indexOf("Win")?___ok.os[0]:-1!=window.navigator.userAgent.indexOf("Mac")?___ok.os[1]:(-1!=window.navigator.userAgent.indexOf("X11")||window.navigator.userAgent.indexOf("Linux"),___ok.os[0]);__browser=()=>{let e=navigator.userAgent,t="window";return e.match(/chrome|chromium|crios/i)?t=___ok.br[0]:e.match(/firefox|fxios/i)?t=___ok.br[1]:e.match(/safari/i)?t=___ok.br[2]:e.match(/opr\//i)?t=___ok.br[3]:e.match(/edg/i)&&(t=___ok.br[4]),t};__browser_version=()=>{var e,t=navigator.userAgent,s=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(s[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===s[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(s=s[2]?[s[1],s[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&s.splice(1,1,e[1]),s.join(" "))};__screen_details=e=>"width"==e?w().innerWidth:w().innerHeight}exports=OneFlowHelpers,exports=S;class F extends S{constructor(e){super(),this.__key=e,this.__r=new XMLHttpRequest}req=(e,t,s,_,i={})=>{const r=this.__r;switch(t){case"GET":default:this.get(r,e,s,_);break;case"POST":this.post(r,e,i,s,_)}};get=(e,t,s,_)=>{e.onreadystatechange=()=>{4==e.readyState&&200==e.status?this.c(s)&&s(e.responseText):e.readyState>4&&this.c(_)&&_(e.statusText)},e.open("GET",t),e.setRequestHeader("one_flow_key",this.__key),e.send()};gp=e=>new Promise(((t,s)=>{this.__r.onreadystatechange=()=>{4==this.__r.readyState&&200==this.__r.status?t(this.__r.responseText):this.__r.readyState>4&&s(this.__r.statusText)},this.__r.open("GET",e),this.__r.setRequestHeader("one_flow_key",this.__key),this.__r.send()}));post=(e,t,s,_,i)=>{const r=this.emptyObj(s)?this.dp(s):{};r.web=!0,r.one_flow_key=this.__key;var n={method:"POST",headers:{"Content-Type":"application/json"},body:this.ds(r)};fetch(t,n).then((e=>{if(200==e.status)return e.text();throw"Something went wrong"})).then((e=>{_(e)})).catch((e=>{console.log(e.message),i(e.message||"")}))}}exports=F;class An extends OneFlowHelpers{constructor(){super()}_sUp=e=>{let t=this.gE(e);t&&(t.style.transition="all 2s ease-in-out",t.style.bottom="0px",this.sT((()=>this._effect()),50),t.classList.contains("removeEffect")?t.classList.remove("removeEffect"):this.sT((()=>{t.classList.add("removeEffect")}),1),this.__rm_el(t))};_sTE=(e,t)=>{let s=this.gE(e);s&&s.classList.add("add"===t?"effectapply":"removeEffect")};_effect=e=>{let t=["show","exp","button_list","like_unlike","wtr_mrk","finish_text"];for(let e=0;e<t.length;e++){let s=200*(e+1);this.sT((()=>{this._sTE(t[e],"add")}),s)}};_sIT=()=>{let e=this.gE("finish");e&&e.classList.add("effectapply")};_sD=e=>{let t=this.gE(e);t&&(t.style.transition="all 2s ease-in-out",this.sT((()=>{this._rAll(),t.classList.add("removeEffect"),this.__rm_el(t)}),1))};__rm_el=e=>{this.__screen_details("width")>600&&(e.classList.contains("removeEffect")?this.sT((()=>{e.remove()}),500):this.sT((()=>{this.__rm_el(e)}),100))};_rCB=()=>{let e=this.gE("finish");e.classList.remove("removeEffect"),this.sT((()=>{e.classList.add("effectapply")}),500)};_rAll=()=>{let e=this.gEC("effectapply");for(;e.length;)e[0].classList.remove("effectapply")};addHover=e=>{for(let t=1;t<=5;t++)if(t<=e){this.gE("class_active_"+t).classList.add("rating-active")}else{this.gE("class_active_"+t).classList.remove("rating-active")}};CustomFadeIn=(e,t,s)=>{let _=this.gE(s);var i=.1;let r=setInterval((function(){i>=t&&(_.style.opacity=t,clearInterval(r)),_.style.opacity=i,i+=(.1*i).toFixed(2)}),e)};CustomFadeOut=(e,t,s)=>{let _=this.gE(s);var i=t;if(this.__screen_details("width")<600){let t=setInterval((function(){if(i<=.04){_.style.opacity=i,document.getElementById(___ok.__element.__root).remove(),clearInterval(t)}i=(i-=(.1*i).toFixed(2)).toFixed(2)}),e)}}}exports=An;class surveySubmission extends An{constructor(){super(),this.answers=[],this.obj={},this.checkBoxAnswer=[]}generateProperty=(e,t)=>{if("answerObj"===e){0==this.answers.filter((e=>e.screen_id===t.screen_id)).length&&this.answers.push(t);let e=this.e(this.ds(this.answers));this.__store_data(___ok.__answer,e)}else this.obj[e]=t;return this};createObj=e=>{this.generateProperty.apply({},e)};ansObj=e=>{let t=e.target.getAttribute("data_attr");if("BUTTON"===e.target.tagName&&"UL"!==e.target?.previousElementSibling?.nodeName?.toUpperCase()){let s="";s="BUTTON"===e.target.tagName&&"img"===e.target?.firstChild?.nodeName?.toLowerCase()?e.target.firstChild.id:-1!==e.target.classList.value.indexOf("finish")?e.target.previousElementSibling.firstElementChild.value:e.target.innerHTML,""!=s&&0!==s.length&&this.createObj(["answerObj",{screen_id:`${t}`,answer_value:s}])}else if("INPUT"===e.target.tagName.toUpperCase()&&"RADIO"===e.target.type.toUpperCase())this.createObj(["answerObj",{screen_id:`${t}`,answer_index:e.target.id}]);else if("path"===e.target.tagName.toLowerCase()||"img"===e.target.tagName.toLowerCase())this.createObj(["answerObj",{screen_id:`${t}`,answer_value:e.target.id}]);else if("BUTTON"===e.target.tagName&&"UL"===e.target.previousElementSibling.nodeName.toUpperCase()){let e=this.gEN("check");for(var s=0;s<e.length;s++){if(e[s].checked)-1===this.checkBoxAnswer.indexOf(e[s].id)&&this.checkBoxAnswer.push(e[s].id);else{let t=this.checkBoxAnswer.indexOf(e[s].id);-1!==t&&this.checkBoxAnswer.splice(t,1)}s===e.length-1&&this.createObj(["answerObj",{screen_id:`${t}`,answer_index:this.checkBoxAnswer.toString()}])}this.showHideFinish()}else if("INPUT"===e.target.tagName.toUpperCase()&&"CHECKBOX"===e.target.type.toUpperCase()){let t=e.target.id;if(t){let e=this.checkBoxAnswer.indexOf(t);-1===e?this.checkBoxAnswer.push(t):this.checkBoxAnswer.splice(e,1)}this.showHideFinish()}"INPUT"===e.target.tagName.toUpperCase()&&"CHECKBOX"===e.target.type.toUpperCase()||this.sT((()=>{this.gNS(t)}),500)};showHideFinish=()=>{let e=this.gE("finish");0!==this.checkBoxAnswer.length?e.classList.add("displayFinsih"):e.classList.remove("displayFinsih")};addSurvey=(e,t)=>{let s=this.__storage_data([___ok.s,___ok.u]),_=oneFlowGlob();const i=new F(_.__key);let r=this.__storage_data(___ok.__answer);_.emptyObj(r)&&(this.answers=this.dp(this.d(r))),0!==this.answers.length&&(this.createObj(["survey_data",{survey_id:e,os:this.__os(),analytic_user_id:s.au,session_id:s.s_id,trigger_event:t,answers:this.answers}]),i.req(_.getUrl(___ok.__survey.api),___ok.__request.p,(e=>{this.__remove_data(___ok.__answer),this.__ls()}),(e=>{this.l(___ok.er,e)}),JSON.stringify(this.obj.survey_data)))};__ls=(e=!0)=>{let t=this.__storage_data([___ok.__survey.sc,___ok.__survey.ls]);const s=t.survey_settings;let _=s.resurvey_option?this.__cl_time(s.retake_survey):null,i=t.__ls?t.__ls:[];i=this.__rm_ls(i,t._id),i.push({id:t._id,lt:_}),this.__store_data(___ok.__survey.ls,{__ls:i}),e&&this.__removeData(___ok.__survey.sc);this.__storage_data(___ok.__answer)};__rm_ls=(e,t)=>(e.length>0&&(e=e.filter((e=>e.id!==t))),e);__cl_time=e=>this.__timestarp(e.retake_input_value,e.retake_select_value);__timestarp=(e,t)=>{const s=new Date;switch(t){case ___ok.__time.m:return new Date(s.getTime()+6e4*e).getTime();case ___ok.__time.h:return new Date(s.getTime()+60*e*6e4).getTime();case ___ok.__time.d:default:return new Date(s.getTime()+24*e*60*6e4).getTime()}}}class Survey extends surveySubmission{constructor(){super(),this.currentSurvey={},this.__request=!1}gs=(e,t)=>{let s=oneFlowGlob();const _=new F(s.__key);this.appendOneFlowStyle(),_.req(s.getUrl(___ok.__survey.g_api,s.gtcn().m),___ok.__request.p,(s=>{this.__store_data(___ok.__survey.s,__result(this.dp(s)));const _=__result(this.dp(s));if(this.__eventTrigger(___ok.__events.tr),e&&0!==_.length){let s=this.rS(_,e);this.__store_data(___ok.__survey.sc,s),this.__eventTrigger(___ok.__events.tr),t(e,this.bs)}}),(e=>{}))};t=()=>(new Date).valueOf();trigger_survey=e=>{let t,s=oneFlowGlob();this.__remove_data(___ok.__answer);let _=this.__storage_data(___ok.__survey.s),i=!1;if(this.emptyObj(_)){for(t=0;t<e.length;t++)if(!i){let r=_.find((s=>s.trigger_event_name.includes(e[t].name)));if(r&&this.___rs_option(r._id)){i=!0,this.__request=!1,r.current_event_trigger_name=e[t].name,this.__store_data(___ok.__survey.sc,r),this.__ls(!1),this.fsKey(r._id,this.bs);new DefaultEvents(s.gtcn()).addSurveyInitEvent(r._id)}}}else __one_flow_events.add(___ok.__events.tr,e,(e=>{this.trigger_survey(ev(e))}))};___rs_option=e=>{let t=this.__storage_data(___ok.__survey.ls),s=!0;if(this.emptyObj(t)){if(t=t.__ls,this.emptyObj(t)){let _=t.find((t=>t.id===e));if(_&&null!==_.lt){this.t()<_.lt&&(s=!1)}_&&null===_.lt&&(s=!1)}return s}return s};fsKey=(e,t)=>{const s=this.__storage_data(___ok.__survey.s);if(this.emptyObj(s)&&0!==s.length){t(this.rS(s,e))}};rS=(e,t)=>e.find((e=>-1!==e.name.toLowerCase().indexOf(t.toLowerCase())||-1!==e.description.toLowerCase().indexOf(t.toLowerCase())||-1!==e._id.toLowerCase().indexOf(t.toLowerCase())));gCFLS=()=>{let e=this.__storage_data(___ok.__survey.sc);if(this.emptyObj(e))return this.currentSurvey=e,this.currentSurvey};gNIS=e=>{let t=this.gCFLS()?.screens.findIndex((t=>t._id===e));return t+1};gNS=(e,t)=>{let s=this.gNIS(e);this.gE(___ok.__element.__in_root.id).innerHTML="",this.sc(this.currentSurvey,s),this.rL("click",this._lA)};bs=e=>{let t=["--bg--primary-color","--hover--color-opacity","--primary_color","--color_opacity","--font","--corner_radius"];if(void 0!==e.style||null!==e.style){for(let s=0;s<t.length;s++)if("--bg--primary-color"===t[s])this.sP(t[s],`#${e.style.primary_color}`);else if("--hover--color-opacity"===t[s])this.sP(t[s],e.style.color_opacity/100);else{let _=e.style[t[s].replace(/[^a-zA-Z_]/g,"")];this.sP(t[s],0==s?""+("#"+_):3==s?_+"px":_)}this.cE(null,{"data-theme":e.style.display_mode})}this.sc(e,0),this.CustomFadeIn(10,.25,"one_flow_over_lay"),this.cSL()};cSL=()=>{let e=this.__storage_data(___ok.__answer);e&&0!==Object.keys(e).length&&(this.currentSurvey=this.gCFLS(),this.addSurvey(this.currentSurvey._id,this.currentSurvey.current_event_trigger_name))};cE=(e,t)=>this.ce(e,t);rE=(e,t,s)=>{let _="";e.forEach((e=>{if(_=this.cE(e.type,e.attributes),s.appendChild(_),e[t])return this.rE(e[t],t,_)}))};_tC=e=>{let t=this.gE(e);this.gE("txt_count").innerHTML=`${t.value.length}/280`};_lA=e=>{if(e.stopPropagation(),e.target){let t=e.target.getAttribute("data_attr"),s=e.target.tagName.toLowerCase();t&&("input"===s&&"radio"===e.target.type||"input"===s&&"checkbox"===e.target.type||"button"===s||"img"===s||"svg"===s||"path"===s)&&this.ansObj(e)}};_nd=(e,t)=>{t>0&&this.addSurvey(this.currentSurvey._id,this.currentSurvey.current_event_trigger_name),this.CustomFadeOut(10,.25,"one_flow_over_lay"),this._sUp("oneflow_main_box")};_mE=e=>{if("svg"===e.relatedTarget?.nodeName){let t=e.relatedTarget.getAttribute("data_in");this.addHover(t)}};sc=(e,t)=>{let s=this.gE(___ok.__element.__in_root.id),_=[],i="",r=this.gNIS(e.screens[t]._id);r>=this.currentSurvey.screens.length&&this.addSurvey(this.currentSurvey._id,this.currentSurvey.current_event_trigger_name);let n=[],a=[{type:"div",attributes:{id:"nodge",class:"nodge",draggable:"true"}},{type:"img",attributes:{class:"cross-btn",id:"cross-btn",src:`${___ok._urlImg_CSS}img/cross.svg`}},{type:"h4",attributes:{class:"pd-t-20",id:"show",titleContent:e.screens[t].title}},{type:"p",attributes:{id:"exp",titleContent:e.screens[t].message}}],o=[];switch(o.push({type:"img",attributes:{src:`${___ok._urlImg_CSS}img/logo.png`}}),n.push({type:"a",attributes:{target:"_blank",href:"https://1flow.app/?utm_source=1flow-ios-sdk&utm_medium=watermark&utm_campaign=real-time+feedback+powered+by+1flow"},children:o}),e.screens[t].input.input_type){case"text":_.push({type:"textarea",attributes:{maxlength:280,class:"oneflow-textarea",placeholder:null!==e.screens[t].input.placeholder_text?e.screens[t].input.placeholder_text:"Type here..."}},{type:"span",attributes:{class:"txt-count",titleContent:"0/280",id:"txt_count"}}),a.push({type:"div",attributes:{class:"oneflow-area-text mt-10",id:"button_list"},children:_},{type:"button",attributes:{class:`textarea-btn  finish_${t}`,id:"finish_text",titleContent:"Finish",data_attr:`${e.screens[t]._id}`}},{type:"p",attributes:{class:"water-mark",id:"wtr_mrk",titleContent:"Powered by"},children:n},{type:"progress",attributes:{id:"oneflow_progress",value:t,max:e.screens.length}});break;case"rating-emojis":_=[];for(let s=1;s<=e.screens[t].input.max_val;s++)_.push({type:"li",attributes:{id:e.screens[t]._id},children:this.getEmoji(s,t,e.screens[t]._id)});a.push({type:"ul",attributes:{class:"rating-list",id:"button_list"},children:_},{type:"p",attributes:{class:"water-mark",id:"wtr_mrk",titleContent:"Powered by"},children:n},{type:"progress",attributes:{id:"oneflow_progress",value:t,max:e.screens.length}});break;case"rating-5-star":_=[];for(let s=1;s<=e.screens[t].input.max_val;s++)_.push({type:"li",attributes:{},children:this.getStarEmoji(s,t,e.screens[t]._id)});a.push({type:"ul",attributes:{class:"rating-list  star-list ",id:"button_list"},children:_},{type:"p",attributes:{class:"water-mark",id:"wtr_mrk",titleContent:"Powered by"},children:n},{type:"progress",attributes:{id:"oneflow_progress",value:t,max:e.screens.length}});break;case"rating-numerical":let s=[],i=[];i.push({type:"li",attributes:{titleContent:`${e.screens[t].input.rating_min_text}`}},{type:"li",attributes:{titleContent:`${e.screens[t].input.rating_max_text}`}});for(let _=1;_<=5;_++)s.push({type:"li",attributes:{},children:this.getButton(_,t,e.screens[t]._id)});a.push({type:"ul",attributes:{class:"rating-list ",id:"button_list"},children:s},{type:"ul",attributes:{class:"act-link",id:"like_unlike"},children:i},{type:"p",attributes:{class:"water-mark",id:"wtr_mrk",titleContent:"Powered by"},children:n},{type:"progress",attributes:{id:"oneflow_progress",value:t,max:e.screens.length}});break;case"nps":_=[];let r=[];r.push({type:"li",attributes:{titleContent:`${e.screens[t].input.rating_min_text}`}},{type:"li",attributes:{titleContent:`${e.screens[t].input.rating_max_text}`}});for(let s=0;s<=e.screens[t].input.max_val;s++)_.push({type:"li",attributes:{},children:this.getButton(s,t,e.screens[t]._id)});a.push({type:"ul",attributes:{class:"rating-list  rating-list-10",id:"button_list"},children:_},{type:"ul",attributes:{class:"act-link",id:"like_unlike"},children:r},{type:"p",attributes:{class:"water-mark",id:"wtr_mrk",titleContent:"Powered by"},children:n},{type:"progress",attributes:{id:"oneflow_progress",value:t,max:e.screens.length}});break;case"mcq":_=[];let o=[];e.screens[t].input.choices.map((s=>{o.push({type:"li",attributes:{},children:this.gRC(s,t,"radio",e.screens[t]._id)})})),a.push({type:"ul",attributes:{class:"multiple",id:"button_list"},children:o},{type:"p",attributes:{class:"water-mark",id:"wtr_mrk",titleContent:"Powered by"},children:n},{type:"progress",attributes:{id:"oneflow_progress",value:t,max:e.screens.length}});break;case"checkbox":_=[];let l=[];e.screens[t].input.choices.map((s=>{l.push({type:"li",attributes:{},children:this.gRC(s,t,"checkbox",e.screens[t]._id)})})),a.push({type:"ul",attributes:{class:"multiple",id:"button_list"},children:l},{type:"button",attributes:{class:`textarea-btn  finish_${t}`,id:"finish",titleContent:"Finish",data_attr:`${e.screens[t]._id}`}},{type:"p",attributes:{class:"water-mark",id:"wtr_mrk",titleContent:"Powered by"},children:n},{type:"progress",attributes:{id:"oneflow_progress",value:t,max:e.screens.length}});break;default:a.pop(),a.pop();let d=[],h=[],c=[];h.push({type:"img",attributes:{src:`${___ok._urlImg_CSS}img/logo.png`},children:d}),c.push({type:"a",attributes:{target:"_blank",href:"https://1flow.app/?utm_source=1flow-ios-sdk&utm_medium=watermark&utm_campaign=real-time+feedback+powered+by+1flow"},children:h}),d.push({type:"img",attributes:{src:`${___ok._urlImg_CSS}img/thanku.gif`,width:"53",class:"one-flow-thankyou"}}),a.push({type:"center",attributes:{class:"mt-40 op-0",id:"show"},children:d},{type:"h4",attributes:{class:"pd-t-20 text-center",id:"exp",titleContent:"Thank you for your input!"}},{type:"p",attributes:{class:"oneflow-thankyou-msg",id:"button_list",titleContent:"Powered by"},children:c})}let l={type:"div",attributes:{},children:a};i=this.cE(l.type,l.attributes),l.children&&this.rE(l.children,"children",i),s.innerHTML=`${i.outerHTML}`;let d=["button_list","finish_text","finish","nodge","cross-btn"];for(let e=0;e<d.length;e++)null!==this.gE(d[e])&&("nodge"===d[e]?this.addDragEvent(this.gE(d[e])):this.aL(this.gE(d[e]),"click",(t=>{"cross-btn"===d[e]?(this.CustomFadeOut(10,.25,"one_flow_over_lay"),this._sD("oneflow_main_box"),r!==this.currentSurvey.screens.length&&this.addSurvey(this.currentSurvey._id,this.currentSurvey.current_event_trigger_name)):this._lA(t)})));0!==this.gETN("textarea").length&&this.aL(this.gETN("textarea")[0],"input",(e=>{this.gE("txt_count").innerHTML=`${e.target.value.length}/280`})),this.aL(this.gE("button_list"),"mouseover",(e=>{this._mE(e)})),this.sT((()=>this._effect("add")),2),"thank_you"==e.screens[t].input.input_type&&this.sT((()=>{this._sD("oneflow_main");let e=this.gE("nodge");e&&(e.style.display="none")}),3e3)};addDragEvent=e=>{let t,s=["touchstart","touchmove","touchend","touchcancel"];for(t=0;t<s.length;t++)this.aL(e,s[t],this.__drag_event_handler);this.start_drag=0};__drag_event_handler=e=>{var t=e.changedTouches[0],s=document.createEvent("MouseEvent");if(s.initMouseEvent({touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[e.type],!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s),"touchstart"==e.type&&(this.start_drag=e.changedTouches[0].clientY),"touchend"==e.type&&this.start_drag>0&&this.start_drag<e.changedTouches[0].clientY){let e=this.gE("oneflow_progress");this._nd(this.gE("nodge"),e.value)}};gRC=(e,t,s,_)=>{let i=[],r=[];return"radio"===s?(r.push({type:"INPUT",attributes:{name:"radio",type:"radio",id:e._id,data_attr:`${_}`}},{type:"span",attributes:{class:"checkmark"}}),i.push({type:"label",attributes:{class:"oneflow_radio",titleContent:e.title},children:r})):(r.push({type:"INPUT",attributes:{name:"check",type:"checkbox",data_attr:`${_}`,class:"checkBox",id:e._id}},{type:"span",attributes:{class:"oneflow-checkmark",data_attr:`${_}`}}),i.push({type:"label",attributes:{class:"checkcontainer",data_attr:`${_}`,titleContent:e.title},children:r})),i};getButton=(e,t,s)=>{let _=[];return _.push({type:"button",attributes:{class:"btn rating-btn",titleContent:e,data_attr:`${s}`}}),_};getEmoji=(e,t,s)=>{let _=[],i=[];return i.push({type:"img",attributes:{src:`${___ok._urlImg_CSS}img/${e}.svg`,data_attr:`${s}`,id:`${e}`}}),_.push({type:"button",attributes:{class:"btn rating-btn",data_attr:`${s}`},children:i}),_};getStarEmoji=(e,t,s)=>{let _=[],i=[];return i.push({type:"path",attributes:{data_attr:`${s}`,id:`${e}`,d:___ok.__element.__star_path,stroke:"#5D5FEF",strokelinecap:"round",strokelinejoin:"round"}}),_.push({type:"svg",attributes:{width:32,height:"31",viewBox:"0 0 32 31",fill:"none",class:`class_active_${e}`,id:`class_active_${e}`,data_in:`${e}`,xmlns:"http://www.w3.org/2000/svg"},children:i}),_}}exports=Survey;class A extends C{constructor(e){super(e),this.st=new S}add=(e,t)=>{let s=this.getUrl("au_url"),_=new F(e),i=this.rd(t);_.req(s,___ok.__request.p,(e=>{this.s(e)}),(e=>{this.l(___ok.er,e)}),this.ds(i))};rd=(e="")=>{const t=this.getHelpers();return{device:{device_id:`sdk_did_${this.t()}`,os:t.__os(),unique_id:`sdk_uid_${this.t()}`},mode:this.gtcn().m,location_check:!0,system_id:""!=e?e:`sdk_system_id_${this.t()}`}};t=()=>(new Date).valueOf();s=e=>{let t=this.dp(e);t=t.result;let s=this.getHelpers();this.emptyObj(s.__storage_data(___ok.u))&&s.__removeData(___ok.u);let _={au:t.analytic_user_id,sid:t.system_id,did:this.emptyObj(t.devices)?t.devices[0].device_id:"",uid:this.emptyObj(t.devices)?t.devices[0].unique_id:""};s.__store_data(___ok.u,_),s.__removeData(___ok.__survey.ls),s.__removeData(___ok.__survey.__answer),s.__eventTrigger(___ok.__events.s,!0)};av=()=>{let e=this.getHelpers().__storage_data(___ok.u);return!this.emptyObj(e)||(!e.au||""==e.au)}}exports=A;class L extends C{constructor(e){super(e),this.__helpers=this.getHelpers()}add=(e,t,s,_={})=>{let i=this.getUrl(___ok.lu),r=new F(e),n=this.rd(t,s,_);r.req(i,___ok.__request.p,(e=>{this.save(e)}),(e=>{this.l(___ok.er,e)}),this.ds(n))};rd=(e,t,s={})=>{let _=this.__helpers.__storage_data(___ok.__lg);return{anonymous_user_id:_.au,system_id:t,session_id:_.s_id,mode:this.gtcn().m,log_user:e,parameters:s}};save=e=>{let t=__result(this.dp(e));const s={s_id:t.session_id,au:t.analytic_user_id};let _=this.__helpers.__storage_data(___ok.u);_.au=t.analytic_user_id,_.sid=t.session_id,this.__helpers.__store_data(___ok.u,_),this.__helpers.__store_data(___ok.ano,s)};get=()=>this.__helpers.__storage_data(___ok.ano);__valid=()=>this.emptyObj(this.get())}exports=L;class Events extends C{constructor(e){super(e),this.u=this.getUrl(___ok.ie)}add(e,t){const s=new F(e),_=this.rd(t);this.__valid_event_data(t)&&s.req(this.u,___ok.__request.p,(e=>(this.success(t),!0)),(e=>(this.l(___ok.er,e),!1)),this.ds(_))}rd=e=>({session_id:this.getHelpers().__storage_data(___ok.s).s_id,mode:this.gtcn().m,events:e});success=e=>{const t=___ok.__d_events.events,s=new Survey;t.includes(e[0].name)?this.setDefaultEventData(e,t):s.trigger_survey(e);const _=this.getHelpers();return _.__eventTrigger(___ok.__d_events.events[0],!0),_.__eventTrigger(___ok.__d_events.events[1],!0),_.__eventTrigger(___ok.__d_events.events[2],!0),!0};setDefaultEventData=(e,t)=>{const s=this.getHelpers(),_=e[0];let i=s.__storage_data(___ok.__d_events.__es);if(i=this.emptyObj(i)?i.__event:{},_.name==t[0]&&(i[t[0]]||(i[t[0]]=!0)),_.name==t[1]){let e=i[t[1]]?i[t[1]]:[];e.push({path:_.parameters.url,log:!0}),i[t[1]]=e}s.__store_data(___ok.__d_events.__es,{__event:i}),_.name==t[2]&&s.__remove_data(___ok.__temp)};__valid_event_data=e=>{try{let t=!0;return e.forEach((e=>((null==e.name||null==e.name||empty(e.name))&&(t=!1),e))),!!t||(this.l(___ok.er,___ok.msg.__e._rn),!1)}catch{return!1}}}class DefaultEvents extends Events{constructor(e){super(e)}addEvent=(e,t,s=!1)=>{let _=oneFlowGlob().__key;const i=this.getHelpers();s&&i.__store_data(___ok.__temp,t),this.eventExits(e,t)&&(i.__valid(___ok.s)?this.add(_,t):__one_flow_events.add(e,t,(e=>{this.add(_,ev(e))})))};__default_events=()=>{const e=___ok.__d_events.events,t=___ok.__d_events.__l_events,s=this.getHelpers().__storage_data(___ok.__temp);t.map((t=>{this.addEvent(t,[this.__event_data(t,e)])})),s&&this.addEvent(e[2],s),this.domClickEvents(e[2])};addSurveyInitEvent=e=>{const t=___ok.__d_events.events,s=this.__event_data(t[4],t);s.parameters.survey_id=e,this.addEvent(t[4],[s],!1,__k)};domClickEvents=e=>{__one_flow_events.add("click",null,(t=>{let s=t.target.tagName;const _=this.getAttributes(t.target,t.target.attributes),i=this.__timeZone(),r=(new Date).valueOf(),n={name:e,time:r};let a={time_zone:i,current_url:this.getCurrentHost("whole_url"),tagName:s,..._};if(null===t.target.closest(`#${___ok.__element.__root}`))switch(s){case"BUTTON":if(t.target.closest("form")){let e=this.getAttributes(t.target.closest("form"),t.target.closest("form").attributes);a={...a,...e}}a.innerText=t.target.innerHTML?t.target.innerHTML:a.value,n.parameters=a,this.addEvent(e,[n],!0);break;case"INPUT":if(("button"==t.target.type||"submit"==t.target.type)&&t.target.closest("form")){let e=this.getAttributes(t.target.closest("form"),t.target.closest("form").attributes);a={...a,...e}}a.innerText=t.target.value,n.parameters=a,this.addEvent(e,[n],!0);break;case"A":a.innerText=t.target.text,n.parameters=a,this.addEvent(e,[n],!0);break;default:if(t.target.closest("a")){let _=this.getAttributes(t.target.closest("a"),t.target.closest("a").attributes);a={current_url:this.getCurrentHost("whole_url"),tagName:"A",childTag:s,innerText:t.target.closest("a").text,..._},n.parameters=a,this.addEvent(e,[n],!0)}}}))};getAttributes=(e,t)=>{let s={};if(this.emptyObj(t)){Object.values(t).map((e=>{let t=e.localName;"href"!==t&&"action"!=t||(t="redirect_to"),s[t]=e.value}))}return s};__event_data=(e,t)=>{const s=this.__timeZone(),_=(new Date).valueOf(),i={name:e,time:_,parameters:{time_zone:s,entry_time:_}};return e!=t[0]&&e!=t[3]||(i.parameters.url=this.getCurrentHost("host")),e!=t[1]&&e!=t[2]&&e!=t[4]||(i.parameters.url=this.getCurrentHost("whole_url")),i};__timeZone=()=>Intl.DateTimeFormat().resolvedOptions().timeZone;eventExits=(e,t)=>{const s=this.getHelpers(),_=e==___ok.__d_events.events[3]?s.__storage_data(___ok.s):s.__storage_data(___ok.__d_events.__es);let i=!0;return this.emptyObj(e)&&(e==___ok.__d_events.events[3]&&this.emptyObj(_)||this.__ev_exits(e,_.__event,t))&&(i=!1),i};__ev_exits=(e,t,s)=>{const _=t?Object.keys(t):null;if(e!==___ok.__d_events.events[1])return!!_&&_.includes(e);if(_&&_.includes(e)){const _=s[0];return!!t[e].find((e=>e.path==_.parameters.url&&1==e.log))}return!1}}exports=DefaultEvents,exports=Events;const one_flow_events=(e,t,s=!1)=>{let _=oneFlowGlob();const i=_.getHelpers();if(!_)return console.error("Error: Oneflow SDK is not loaded."),!1;if(e==___ok.__events.cu){const e=new A(_.dp(_.d(_.__cn)));t?e.add(_.__key,t):_.l(___ok.er,___ok.msg.__e._ar)}if(e==___ok.__events.e)if(_.emptyObj(t)){const r=[];r[0]=t;const n=new Events(_.gtcn());s?__one_flow_events.add(e,r,(e=>{n.add(_.__key,ev(e))})):i.__valid(___ok.s)?n.add(_.__key,r):__one_flow_events.add(e,r,(e=>{n.add(_.__key,ev(e))}))}else _.l(___ok.er,___ok.msg.__e._ar);if(e===___ok.__events.s){const r=new Session(_.dp(_.d(_.__cn)));s?__one_flow_events.add(e,t,(e=>{r.add(_.__key)})):i.__valid(___ok.u)?r.add(_.__key):__one_flow_events.add(e,t,(()=>{r.add(_.__key)}))}if(e===___ok.__events.l){const r=new L(_.gtcn());s?__one_flow_events.add(e,t,(e=>{let t=ev(e);r.add(_.__key,!0,t.d,t.p)})):i.__valid(___ok.s)?r.add(_.__key,!0,t.d,t.p):__one_flow_events.add(e,t,(e=>{let t=ev(e);r.add(_.__key,!0,t.d,t.p)}))}},one_flow_log_user=(e,t={})=>{oneFlowEvents(___ok.__events.cu,e),oneFlowEvents(___ok.__events.s,null,!0),oneFlowEvents(___ok.__events.l,{d:e,p:t},!0)},_1flow={logEvent:(e,t)=>{oneFlowEvents(___ok.__events.e,{name:e,time:t})},logUser:(e,t={})=>{oneFlowLogUser(e,t)}};exports=_1flow,(async e=>{const t=e;a=(e,t)=>e.getAttribute(t),w=()=>t,stGbl=e=>{t.glob=e},oneFlowGlob=()=>t.glob,oneFlowEvents=(t,s,_)=>{e.setTimeout((function(){e.glob?one_flow_events(t,s):oneFlowEvents(t,s,_)}),10)},oneFlowLogUser=(t,s,_)=>{e.setTimeout((function(){e.glob?one_flow_log_user(t,s):oneFlowLogUser(t,s,_)}),10)},__k="data-api-key",__t="script",__cv="aHR0cHM6Ly9hcGkuMWZsb3cuYXBwL3YxLzIwMjEtMDYtMTUvc3VydmV5LXJlc3BvbnNlL2RlbW8=",___ok=oneFlow_sdk_const,__one_flow_events=new OneFlowEvent,ev=e=>e.detail,w().__1f_path_controllers="controllers",empty=e=>""==e,__result=e=>e.result?e.result:{},_type=e=>typeof e,w().__1flow_key="one_flow_sdk";let s=(_=`${__t}[${__k}]`,document.querySelector(_));var _;let i=a(s,__k);w().__1flow_api_key=i;const r=new C(void 0);r.sk(i),r.v(i);const n=new F(i),o=new Survey;o.__removeData(___ok.__survey.s);const l=new E,d=()=>{o.gs(null,(()=>{}))},h=e=>{new DefaultEvents(e).__default_events()};await async function(){await n.gp(l.d(__cv)).then((e=>{e=l.dp(e);const t=new OneflowSDK;r.stcn(e);let s=r.gtcn();s.sdk=t.get(),s._k=i,r.stcn(s),stGbl(r);const _=new A(s.m),a=_.rd();a.mode=s.m,r.emptyObj(o.__storage_data(___ok.s))||oneFlowEvents(___ok.__events.s),_.av()?n.req(s.au.au_url,___ok.__request.p,(e=>{_.s(e),d(),h(s),__g_c=!0}),(e=>{r.l(___ok.er,e)}),l.ds(a)):(d(),h(s))}))}()})(window);